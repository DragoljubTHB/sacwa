<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<!-- 	<link rel="stylesheet" type="text/css" href="table.css" /> -->
</h:head>
<h:body>

	<h:form>

		<p:messages id="messages" />
		<p:panel id="panel" header="Neue Stunde hinzufügen"
			style="margin-bottom:10px;">

			<h:outputLabel for="name" value="Name:  " />
			<p:inputText id="name" value="#{stundeCtrl.stunde.name}" />

			<p />
			<h:outputLabel for="editor" value="Inhalt:  " />
			<p:editor id="editor" value="#{stundeCtrl.stunde.inhalt}"
				controls="bold italic underline strikethrough font size style color highlight bullets numbering alignleft center alignright " />

			<p />
			<h:outputLabel for="kommentar" value="Kommentar:  " />
			<p:inputTextarea id="kommentar" rows="4" cols="42"
				value="#{stundeCtrl.stunde.kommentar}" />
			<p />
			<p:commandButton value="abbrechen"
				actionListener="#{stundeCtrl.stunde}" process="panel" ajax="true" />
			<p:commandButton value="create" update="panel_table messages"
				actionListener="#{stundeCtrl.create}" ajax="true" />

		</p:panel>

		<p:panel id="panel_table" header="Liste aller Einzelthemen"
			style="margin-bottom:10px;">
			<p:messages id="messages2" />
			<p:dataTable id="stundenTable" value="#{stunden}"
				rendered="#{not empty stunden}" var="_h" tableStyle="width:auto">
				<p:column>
					<f:facet name="header">Id</f:facet>
					<h:outputText value="#{_h.id}" />
				</p:column>
				<p:column sortBy="#{_h.name}" headerText="Name">
					<h:outputText value="#{_h.name}" />
				</p:column>
				<p:column sortBy="#{_h.inhalt}" headerText="Inhalt">
					<h:outputText value="#{_h.inhalt}" />
				</p:column>
				<p:column sortBy="#{_h.inhalt}" headerText="Inhalt">
					<h:outputText value="#{_h.inhalt}" />
				</p:column>
				<p:column>
					<p:commandButton value="löschen" action="#{stundeCtrl.delete}"
						update="stundenTable" ajax="true">
						<f:setPropertyActionListener target="#{stundeCtrl.stunde}"
							value="#{_h}" />
					</p:commandButton>
					<p:commandButton value="bearbeiten" action="#{stundeCtrl.update}"
						update="stundenTable" ajax="true">
						<f:setPropertyActionListener target="#{stundeCtrl.stunde}"
							value="#{_h}" />
					</p:commandButton>
				</p:column>
			</p:dataTable>
		</p:panel>

	</h:form>
</h:body>
</html>
